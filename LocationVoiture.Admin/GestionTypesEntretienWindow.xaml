<Window x:Class="LocationVoiture.Admin.GestionTypesEntretienWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Configuration des Types d'Entretien" Height="450" Width="650"
        WindowStartupLocation="CenterScreen" ResizeMode="NoResize" Background="#F3F4F6">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TextBlock Grid.Row="0" Text="⚙️ Configuration des Règles" FontSize="20" FontWeight="Bold" Foreground="#1F2937" Margin="0,0,0,20"/>

        <!-- Liste -->
        <DataGrid Grid.Row="1" x:Name="TypesGrid" AutoGenerateColumns="False" CanUserAddRows="False" IsReadOnly="True"
                  Background="White" BorderBrush="#E5E7EB" BorderThickness="1" RowHeight="40">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Nom" Binding="{Binding Nom}" Width="*"/>
                <DataGridTextColumn Header="Périodicité (km)" Binding="{Binding PeriodiciteKm}" Width="150" FontWeight="Bold"/>

                <DataGridTemplateColumn Width="140" Header="Actions">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                <Button Content="✏️" Click="BtnModifier_Click" Background="#DBEAFE" Foreground="#1E40AF" BorderThickness="0" Padding="5" Cursor="Hand" Margin="0,0,5,0" ToolTip="Modifier" Tag="{Binding}"/>
                                <Button Content="🗑️" Click="BtnSupprimer_Click" Background="#FEE2E2" Foreground="#DC2626" BorderThickness="0" Padding="5" Cursor="Hand" ToolTip="Supprimer" Tag="{Binding Id}"/>
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>

        <!-- Formulaire -->
        <Border Grid.Row="2" Background="White" Padding="15" Margin="0,20,0,0" CornerRadius="8">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <StackPanel Margin="0,0,10,0">
                    <TextBlock Text="Nom (ex: Vidange)" FontSize="11" Foreground="Gray"/>
                    <TextBox x:Name="txtNom" Width="200" Height="30" Padding="5"/>
                </StackPanel>

                <StackPanel Margin="0,0,10,0">
                    <TextBlock Text="Tous les X km" FontSize="11" Foreground="Gray"/>
                    <TextBox x:Name="txtKm" Width="100" Height="30" Padding="5"/>
                </StackPanel>

                <Button x:Name="btnSave" Content="Ajouter" Click="BtnSave_Click" Width="100" Height="30" VerticalAlignment="Bottom" Background="#2563EB" Foreground="White" FontWeight="Bold" BorderThickness="0"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>